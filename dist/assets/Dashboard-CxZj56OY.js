import{u as W,b as y,c as M,j as e}from"./query-Bnlnxe_r.js";import{r as f,u as ae,L as te,R as re,a as b}from"./router-D_YpY8TY.js";import{u as R,L as N,c as $,s as u,a as T,t as L,b as le}from"./index-CKKuoQGk.js";import{C as r,B as v}from"./Card-BvfzpG68.js";import{M as B,S as ne,b as U,d as V,D as K,e as C,B as q,U as w,f as F,A as S,g as X,h as A,i as ce,j as Y,k as ie,l as de,m as Z,F as G,n as oe,E as xe,C as ee,W as me,o as E,K as O,p as he,P as H,G as z,q as ge,r as je,s as Q,t as I,u as J,v as D,H as pe,w as ue,x as fe,y as ye,X as Ne,L as be,z as ve}from"./ui-BLoA5_9i.js";import"./vendor-DJG_os-6.js";const we=()=>{const[s,i]=f.useState(""),[t,a]=f.useState(!1),d=f.useRef(null),l=W(),{user:x}=R(),{data:m=[],isLoading:p}=y({queryKey:["messages"],queryFn:async()=>{var c;return((c=(await $.getMessages()).data)==null?void 0:c.messages)||[]},refetchInterval:5e3}),o=M({mutationFn:$.sendMessage,onSuccess:()=>{l.invalidateQueries(["messages"]),i(""),u("success","Message sent")},onError:()=>{u("error","Failed to send message")}});f.useEffect(()=>{h()},[m]);const h=()=>{var n;(n=d.current)==null||n.scrollIntoView({behavior:"smooth"})},j=n=>{n.preventDefault(),!(!s.trim()||o.isLoading)&&o.mutate({username:x.username,avatar_url:x.avatar_url,message:s.trim()})},g=n=>new Date(n).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Chat"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time communication with your team"})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-gray-600",children:"Live"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:[m.length," messages"]})]})]})]}),e.jsxs(r,{className:"h-96 flex flex-col",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[p?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(N,{})}):m.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(B,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No messages yet"}),e.jsx("p",{className:"text-sm",children:"Send the first message to get started!"})]})}):m.map((n,c)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("img",{src:n.avatar_url||"/img/default_avatar.png",alt:n.username,className:"w-8 h-8 rounded-full object-cover border border-gray-200"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.username}),e.jsx("span",{className:"text-xs text-gray-500",children:g(n.timestamp)})]}),e.jsx("p",{className:"text-sm text-gray-700 mt-1 break-words",children:n.message})]})]},c)),e.jsx("div",{ref:d})]}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("form",{onSubmit:j,className:"flex space-x-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:s,onChange:n=>i(n.target.value),placeholder:"Type your message...",className:"form-input w-full",disabled:o.isLoading,maxLength:500})}),e.jsx(v,{type:"submit",loading:o.isLoading,disabled:!s.trim(),children:e.jsx(ne,{className:"w-4 h-4"})})]})})]})]})},_={getPlayers:()=>T.get("/fivem/get_players.php"),getVehicles:()=>T.get("/fivem/get_vehicles.php"),getHallOfFame:()=>T.get("/fivem/get_hall_of_fame.php"),getServerStatus:()=>T.get("/fivem/get_server_status.php")},ke=({title:s,value:i,icon:t,color:a="primary",trend:d,subtitle:l})=>{const x={primary:"text-primary-600 bg-primary-50",green:"text-green-600 bg-green-50",blue:"text-blue-600 bg-blue-50",purple:"text-purple-600 bg-purple-50",yellow:"text-yellow-600 bg-yellow-50",red:"text-red-600 bg-red-50",orange:"text-orange-600 bg-orange-50"};return e.jsx(r,{className:"overflow-hidden",children:e.jsx(r.Body,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:i}),l&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l}),d&&e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(ce,{className:"w-4 h-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-600 font-medium",children:d}),e.jsx("span",{className:"text-gray-500 ml-1",children:"from last week"})]})]}),e.jsx("div",{className:`p-3 rounded-lg ${x[a]}`,children:e.jsx(t,{className:"w-6 h-6"})})]})})})},Ce=({onlineUsers:s,messageStats:i,tasks:t,fivemStats:a})=>{const d=t.filter(p=>p.completed).length,l=t.length,x=l>0?Math.round(d/l*100):0,m=[{title:"Players Online",value:(a==null?void 0:a.players)||0,subtitle:`/ ${(a==null?void 0:a.maxPlayers)||64}`,icon:w,color:a!=null&&a.online?"green":"red",trend:"+12%"},{title:"Total Registered",value:(a==null?void 0:a.totalUsers)||0,icon:F,color:"blue"},{title:"Active Today",value:(a==null?void 0:a.activeUsers)||0,icon:S,color:"purple"},{title:"Total Vehicles",value:(a==null?void 0:a.totalVehicles)||0,icon:C,color:"orange"},{title:"Chat Messages",value:(i==null?void 0:i.total)||0,icon:B,color:"primary",trend:"+8%"},{title:"Task Progress",value:`${x}%`,subtitle:`${d}/${l} completed`,icon:X,color:"green"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:m.map((p,o)=>e.jsx(ke,{...p},o))})},Pe=({serverStatus:s})=>{const i=s==null?void 0:s.online;return e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"w-5 h-5"}),e.jsx("h3",{className:"text-lg font-semibold",children:"FiveM Server Status"}),e.jsx("div",{className:`w-3 h-3 rounded-full ${i?"bg-green-500":"bg-red-500"}`})]})}),e.jsxs(r.Body,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("p",{className:`font-semibold ${i?"text-green-600":"text-red-600"}`,children:i?"Online":"Offline"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Players"}),e.jsxs("p",{className:"font-semibold",children:[(s==null?void 0:s.players)||0,"/",(s==null?void 0:s.maxPlayers)||64]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Version"}),e.jsx("p",{className:"font-semibold",children:(s==null?void 0:s.version)||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Uptime"}),e.jsx("p",{className:"font-semibold",children:(s==null?void 0:s.uptime)||"N/A"})]})]}),(s==null?void 0:s.lastUpdate)&&e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",new Date(s.lastUpdate).toLocaleString()]})})]})]})},Le=()=>{const{data:s=0}=y({queryKey:["onlineUsers"],queryFn:async()=>{const x=await $.getOnlineUsers();return parseInt(x.data)||0},refetchInterval:3e4}),{data:i}=y({queryKey:["messageStats"],queryFn:async()=>(await $.getMessageStats()).data}),{data:t=[]}=y({queryKey:["tasks"],queryFn:async()=>(await L.getTasks()).data.tasks||[]}),{data:a,isLoading:d}=y({queryKey:["fivemServerStatus"],queryFn:async()=>(await _.getServerStatus()).data.server,refetchInterval:3e4}),{data:l}=y({queryKey:["hallOfFame"],queryFn:async()=>(await _.getHallOfFame()).data.hall_of_fame,refetchInterval:3e5});return d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(N,{})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"FiveM Server Dashboard"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx(U,{className:"w-4 h-4 inline mr-1"}),"Last updated: ",new Date().toLocaleString()]})]}),e.jsx(Ce,{onlineUsers:s,messageStats:i,tasks:t,fivemStats:a}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Pe,{serverStatus:a}),l&&e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Hall of Fame Preview"})]})}),e.jsx(r.Body,{children:e.jsxs("div",{className:"space-y-4",children:[l.richest&&l.richest.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(K,{className:"w-4 h-4 mr-1 text-green-500"}),"Richest Player"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[l.richest[0].firstname," ",l.richest[0].lastname,e.jsxs("span",{className:"ml-2 font-medium text-green-600",children:["$",parseInt(l.richest[0].total_money||0).toLocaleString()]})]})]}),l.most_vehicles&&l.most_vehicles.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(C,{className:"w-4 h-4 mr-1 text-blue-500"}),"Most Vehicles"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[l.most_vehicles[0].firstname," ",l.most_vehicles[0].lastname,e.jsxs("span",{className:"ml-2 font-medium text-blue-600",children:[l.most_vehicles[0].vehicle_count," vehicles"]})]})]}),l.richest_companies&&l.richest_companies.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(q,{className:"w-4 h-4 mr-1 text-purple-500"}),"Top Company"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[l.richest_companies[0].company_name,e.jsxs("span",{className:"ml-2 font-medium text-purple-600",children:["$",parseInt(l.richest_companies[0].money||0).toLocaleString()]})]})]})]})})]})]})]})},P=({title:s,data:i,icon:t,color:a,valueKey:d,valueFormatter:l,emptyMessage:x})=>{const m={gold:"from-yellow-400 to-yellow-600",green:"from-green-400 to-green-600",blue:"from-blue-400 to-blue-600",purple:"from-purple-400 to-purple-600",red:"from-red-400 to-red-600"},p=o=>{switch(o){case 0:return e.jsx(V,{className:"w-5 h-5 text-yellow-500"});case 1:return e.jsx(de,{className:"w-5 h-5 text-gray-400"});case 2:return e.jsx(ie,{className:"w-5 h-5 text-orange-500"});default:return e.jsxs("span",{className:"text-gray-600 font-bold",children:["#",o+1]})}};return e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${m[a]} text-white`,children:e.jsx(t,{className:"w-5 h-5"})}),e.jsx("h3",{className:"text-lg font-semibold",children:s})]})}),e.jsx(r.Body,{children:i&&i.length>0?e.jsx("div",{className:"space-y-3",children:i.slice(0,10).map((o,h)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8",children:p(h)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:o.firstname&&o.lastname?`${o.firstname} ${o.lastname}`:o.company_name||o.gang_name||"Unknown"}),o.identifier&&e.jsx("p",{className:"text-xs text-gray-500",children:o.identifier})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-bold text-gray-900",children:l?l(o[d]):o[d]})})]},h))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(t,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:x})]})})]})},_e=()=>{var x,m,p,o,h;const[s,i]=f.useState("players"),{data:t,isLoading:a,error:d}=y({queryKey:["hallOfFame"],queryFn:async()=>(await _.getHallOfFame()).data.hall_of_fame,refetchInterval:3e5});if(a)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(N,{})});if(d)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600",children:"Failed to load hall of fame data"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:d.message})]});const l=[{id:"players",label:"Players",icon:w},{id:"organizations",label:"Organizations",icon:q}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(Y,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Hall of Fame"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Top performers across different categories"})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:l.map(j=>{const g=j.icon;return e.jsxs("button",{onClick:()=>i(j.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${s===j.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{children:j.label})]},j.id)})})}),s==="players"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{title:"Richest Players",data:t==null?void 0:t.richest,icon:K,color:"gold",valueKey:"total_money",valueFormatter:j=>`$${parseInt(j||0).toLocaleString()}`,emptyMessage:"No player wealth data available"}),e.jsx(P,{title:"Most Vehicles Owned",data:t==null?void 0:t.most_vehicles,icon:C,color:"blue",valueKey:"vehicle_count",valueFormatter:j=>`${j} vehicle${j!==1?"s":""}`,emptyMessage:"No vehicle ownership data available"}),e.jsx(P,{title:"Most Active Players",data:t==null?void 0:t.most_active,icon:S,color:"green",valueKey:"last_seen_formatted",valueFormatter:j=>j?new Date(j).toLocaleDateString():"Never",emptyMessage:"No activity data available"})]}),s==="organizations"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{title:"Richest Companies",data:t==null?void 0:t.richest_companies,icon:q,color:"purple",valueKey:"money",valueFormatter:j=>`$${parseInt(j||0).toLocaleString()}`,emptyMessage:"No company data available"}),(t==null?void 0:t.richest_gangs)&&t.richest_gangs.length>0&&e.jsx(P,{title:"Richest Gangs",data:t.richest_gangs,icon:w,color:"red",valueKey:"money",valueFormatter:j=>`$${parseInt(j||0).toLocaleString()}`,emptyMessage:"No gang data available"})]}),e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),"Quick Stats"]})}),e.jsx(r.Body,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(x=t==null?void 0:t.richest)!=null&&x[0]?`$${parseInt(t.richest[0].total_money||0).toLocaleString()}`:"$0"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Highest Wealth"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((p=(m=t==null?void 0:t.most_vehicles)==null?void 0:m[0])==null?void 0:p.vehicle_count)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Most Vehicles"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((o=t==null?void 0:t.richest_companies)==null?void 0:o.length)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Companies"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:((h=t==null?void 0:t.richest_gangs)==null?void 0:h.length)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Gangs"})]})]})})]})]})},Te=({player:s})=>{var m,p;const[i,t]=f.useState(!1),a=o=>({police:"bg-blue-100 text-blue-800",ambulance:"bg-red-100 text-red-800",mechanic:"bg-yellow-100 text-yellow-800",taxi:"bg-purple-100 text-purple-800",unemployed:"bg-gray-100 text-gray-800"})[o]||"bg-green-100 text-green-800",d=o=>({admin:"bg-red-100 text-red-800",moderator:"bg-orange-100 text-orange-800",vip:"bg-purple-100 text-purple-800",user:"bg-gray-100 text-gray-800"})[o]||"bg-gray-100 text-gray-800",l=(s.money||0)+(s.bank||0),x=s.last_seen_formatted?new Date(s.last_seen_formatted).toLocaleDateString():"Never";return e.jsx(r,{className:"hover:shadow-lg transition-shadow",children:e.jsx(r.Body,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsxs("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:[(m=s.firstname)==null?void 0:m[0],(p=s.lastname)==null?void 0:p[0]]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[s.firstname," ",s.lastname]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.identifier})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(s.job)}`,children:[e.jsx(oe,{className:"w-3 h-3 inline mr-1"}),s.job," (Grade ",s.job_grade,")"]}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(s.group)}`,children:[e.jsx(F,{className:"w-3 h-3 inline mr-1"}),s.group]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Total Money"}),e.jsxs("p",{className:"font-semibold text-green-600 flex items-center",children:[e.jsx(K,{className:"w-4 h-4 mr-1"}),"$",l.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Last Seen"}),e.jsxs("p",{className:"font-semibold flex items-center",children:[e.jsx(U,{className:"w-4 h-4 mr-1"}),x]})]})]}),i&&e.jsxs("div",{className:"mt-4 pt-4 border-t space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Cash"}),e.jsxs("p",{className:"font-semibold",children:["$",(s.money||0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Bank"}),e.jsxs("p",{className:"font-semibold",children:["$",(s.bank||0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Black Money"}),e.jsxs("p",{className:"font-semibold text-red-600",children:["$",(s.black_money||0).toLocaleString()]})]})]}),s.position&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Last Position"}),e.jsx("p",{className:"text-xs text-gray-500 font-mono",children:s.position})]})]})]}),e.jsx(v,{variant:"ghost",size:"small",onClick:()=>t(!i),className:"ml-4",children:e.jsx(xe,{className:"w-4 h-4"})})]})})})},Me=()=>{const[s,i]=f.useState(""),[t,a]=f.useState(""),[d,l]=f.useState(""),{data:x,isLoading:m,error:p}=y({queryKey:["fivemPlayers"],queryFn:async()=>(await _.getPlayers()).data,refetchInterval:6e4}),o=(x==null?void 0:x.players)||[],h=[...new Set(o.map(n=>n.job).filter(Boolean))],j=[...new Set(o.map(n=>n.group).filter(Boolean))],g=o.filter(n=>{const c=!s||`${n.firstname} ${n.lastname}`.toLowerCase().includes(s.toLowerCase())||n.identifier.toLowerCase().includes(s.toLowerCase()),k=!t||n.job===t,se=!d||n.group===d;return c&&k&&se});return m?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(N,{})}):p?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600",children:"Failed to load players data"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:p.message})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(w,{className:"w-6 h-6 mr-2"}),"Players Management"]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[g.length," of ",o.length," players"]})]})}),e.jsx(r,{children:e.jsx(r.Body,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search players...",value:s,onChange:n=>i(n.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:t,onChange:n=>a(n.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[e.jsx("option",{value:"",children:"All Jobs"}),h.map(n=>e.jsx("option",{value:n,children:n},n))]}),e.jsx(G,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:d,onChange:n=>l(n.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[e.jsx("option",{value:"",children:"All Groups"}),j.map(n=>e.jsx("option",{value:n,children:n},n))]}),e.jsx(G,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(n=>e.jsx(Te,{player:n},n.identifier))}),g.length===0&&s&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(w,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No players match your search criteria"}),e.jsx(v,{variant:"ghost",onClick:()=>{i(""),a(""),l("")},className:"mt-2",children:"Clear Filters"})]})]})},$e=()=>{const{data:s,isLoading:i,error:t}=y({queryKey:["serverStatus"],queryFn:async()=>(await le.getStatus()).data,refetchInterval:1e4}),a=l=>l?"text-green-600 bg-green-50":"text-red-600 bg-red-50",d=l=>l?e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}):e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"});return t?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ee,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error loading server status"}),e.jsx("p",{className:"text-gray-600",children:"Please check your server configuration"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Server Status"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor your FiveM server performance and status"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(r,{children:e.jsx(r.Body,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Server Status"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[i?e.jsx(N,{size:"sm"}):d(s==null?void 0:s.online),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:i?"Checking...":s!=null&&s.online?"Online":"Offline"})]})]}),e.jsx("div",{className:`p-3 rounded-lg ${a(s==null?void 0:s.online)}`,children:e.jsx(A,{className:"w-6 h-6"})})]})})}),e.jsx(r,{children:e.jsx(r.Body,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Players Online"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:i?"...":(s==null?void 0:s.playerCount)||0}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["/ ",(s==null?void 0:s.maxPlayers)||64," max"]})]}),e.jsx("div",{className:"p-3 rounded-lg text-blue-600 bg-blue-50",children:e.jsx(w,{className:"w-6 h-6"})})]})})}),e.jsx(r,{children:e.jsx(r.Body,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Connection"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:i?"Checking...":s!=null&&s.ping?`${s.ping}ms`:"N/A"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Latency"})]}),e.jsx("div",{className:"p-3 rounded-lg text-purple-600 bg-purple-50",children:e.jsx(me,{className:"w-6 h-6"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Server Information"})}),e.jsx(r.Body,{children:i?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(N,{})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Server Name:"}),e.jsx("span",{className:"font-medium text-gray-900",children:(s==null?void 0:s.serverName)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Version:"}),e.jsx("span",{className:"font-medium text-gray-900",children:(s==null?void 0:s.version)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Uptime:"}),e.jsx("span",{className:"font-medium text-gray-900",children:(s==null?void 0:s.uptime)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Game Mode:"}),e.jsx("span",{className:"font-medium text-gray-900",children:(s==null?void 0:s.gameMode)||"N/A"})]})]})})]}),e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resource Usage"})}),e.jsx(r.Body,{children:i?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(N,{})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"CPU Usage"}),e.jsxs("span",{className:"font-medium",children:[(s==null?void 0:s.cpu)||"0","%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(s==null?void 0:s.cpu)||0}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Memory Usage"}),e.jsxs("span",{className:"font-medium",children:[(s==null?void 0:s.memory)||"0","%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${(s==null?void 0:s.memory)||0}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Network I/O"}),e.jsxs("span",{className:"font-medium",children:[(s==null?void 0:s.network)||"0"," MB/s"]})]}),e.jsx("div",{className:"w-ull bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(((s==null?void 0:s.network)||0)*10,100)}%`}})})]})]})})]})]})]})},Be=()=>{const{user:s,updateUser:i}=R(),[t,a]=f.useState("profile"),[d,l]=f.useState({username:(s==null?void 0:s.username)||"",avatar_url:(s==null?void 0:s.avatar_url)||"",currentPassword:"",newPassword:"",confirmPassword:""}),x=[{id:"profile",name:"Profile",icon:E},{id:"security",name:"Security",icon:O},{id:"notifications",name:"Notifications",icon:he},{id:"appearance",name:"Appearance",icon:H},{id:"general",name:"General",icon:z}],m=c=>{l(k=>({...k,[c.target.name]:c.target.value}))},p=async c=>{c.preventDefault();try{i({username:d.username,avatar_url:d.avatar_url}),u("success","Profile updated successfully")}catch{u("error","Failed to update profile")}},o=async c=>{if(c.preventDefault(),d.newPassword!==d.confirmPassword){u("error","Passwords do not match");return}if(d.newPassword.length<6){u("error","Password must be at least 6 characters");return}try{u("success","Password changed successfully"),l(k=>({...k,currentPassword:"",newPassword:"",confirmPassword:""}))}catch{u("error","Failed to change password")}},h=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Profile Information"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update your profile information and avatar."})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Avatar"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:d.avatar_url||"/img/default_avatar.png",alt:"Avatar",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"url",name:"avatar_url",value:d.avatar_url,onChange:m,placeholder:"https://example.com/avatar.jpg",className:"form-input"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a URL to your avatar image"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),e.jsx("input",{type:"text",id:"username",name:"username",value:d.username,onChange:m,className:"form-input",required:!0})]}),e.jsxs(v,{type:"submit",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"Update Profile"]})]})]}),j=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Security Settings"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Change your password and manage security settings."})]}),e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"currentPassword",className:"form-label",children:"Current Password"}),e.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:d.currentPassword,onChange:m,className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),e.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:d.newPassword,onChange:m,className:"form-input",required:!0,minLength:6})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm New Password"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:d.confirmPassword,onChange:m,className:"form-input",required:!0,minLength:6})]}),e.jsxs(v,{type:"submit",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Change Password"]})]})]}),g=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure how you want to receive notifications."})]}),e.jsx("div",{className:"space-y-4",children:[{id:"chat",label:"Chat Messages",description:"Get notified about new chat messages"},{id:"server",label:"Server Status",description:"Alerts about server status changes"},{id:"tasks",label:"Task Updates",description:"Notifications about task completions"},{id:"users",label:"User Activity",description:"Alerts about user logins and activity"}].map(c=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:c.label}),e.jsx("p",{className:"text-sm text-gray-500",children:c.description})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]},c.id))})]}),n=()=>{switch(t){case"profile":return h();case"security":return j();case"notifications":return g();case"appearance":return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(H,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Appearance Settings"}),e.jsx("p",{className:"text-gray-600",children:"Theme and appearance customization coming soon."})]});case"general":return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"General Settings"}),e.jsx("p",{className:"text-gray-600",children:"General application settings coming soon."})]});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account settings and preferences"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(r,{children:e.jsx(r.Body,{className:"p-0",children:e.jsx("nav",{className:"space-y-1",children:x.map(c=>e.jsxs("button",{onClick:()=>a(c.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-none border-r-2 transition-colors ${t===c.id?"bg-primary-50 text-primary-700 border-primary-600":"text-gray-700 hover:bg-gray-50 border-transparent"}`,children:[e.jsx(c.icon,{className:`mr-3 h-5 w-5 ${t===c.id?"text-primary-600":"text-gray-400"}`}),c.name]},c.id))})})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(r,{children:e.jsx(r.Body,{className:"p-6",children:n()})})})]})]})},Ue=()=>{const[s,i]=f.useState(""),t=W(),{data:a=[],isLoading:d,error:l}=y({queryKey:["tasks"],queryFn:async()=>(await L.getTasks()).data.tasks||[],refetchInterval:3e4}),x=M({mutationFn:L.addTask,onSuccess:()=>{t.invalidateQueries(["tasks"]),i(""),u("success","Task added successfully")},onError:()=>{u("error","Failed to add task")}}),m=M({mutationFn:L.toggleTask,onSuccess:()=>{t.invalidateQueries(["tasks"]),u("success","Task updated")},onError:()=>{u("error","Failed to update task")}}),p=M({mutationFn:L.deleteTask,onSuccess:()=>{t.invalidateQueries(["tasks"]),u("success","Task deleted")},onError:()=>{u("error","Failed to delete task")}}),o=c=>{if(c.preventDefault(),!s.trim()){u("error","Please enter a task");return}x.mutate({task:s.trim()})},h=c=>{m.mutate(c)},j=c=>{window.confirm("Are you sure you want to delete this task?")&&p.mutate(c)},g=a.filter(c=>c.completed),n=a.filter(c=>!c.completed);return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ee,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error loading tasks"}),e.jsx("p",{className:"text-gray-600",children:"Please try refreshing the page"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Todo List"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your tasks and stay organized"})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:[n.length," Pending"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:[g.length," Completed"]})]})]})]}),e.jsx(r,{children:e.jsx(r.Body,{children:e.jsxs("form",{onSubmit:o,className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:s,onChange:c=>i(c.target.value),placeholder:"What needs to be done?",className:"form-input w-full",disabled:x.isLoading})}),e.jsxs(v,{type:"submit",loading:x.isLoading,className:"whitespace-nowrap",children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"Add Task"]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{className:"w-5 h-5 text-yellow-500"}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Pending Tasks (",n.length,")"]})]})}),e.jsx(r.Body,{className:"p-0",children:d?e.jsx("div",{className:"p-8",children:e.jsx(N,{className:"mx-auto"})}):n.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(U,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No pending tasks"}),e.jsx("p",{className:"text-sm",children:"Add a task to get started!"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:n.map(c=>e.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("button",{onClick:()=>h(c.id),className:"flex-shrink-0 w-5 h-5 border-2 border-gray-300 rounded hover:border-green-500 transition-colors",disabled:m.isLoading}),e.jsx("span",{className:"text-gray-900",children:c.task})]}),e.jsx("button",{onClick:()=>j(c.id),className:"flex-shrink-0 p-1 text-gray-400 hover:text-red-500 transition-colors",disabled:p.isLoading,children:e.jsx(Q,{className:"w-4 h-4"})})]},c.id))})})]}),e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{className:"w-5 h-5 text-green-500"}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Completed Tasks (",g.length,")"]})]})}),e.jsx(r.Body,{className:"p-0",children:d?e.jsx("div",{className:"p-8",children:e.jsx(N,{className:"mx-auto"})}):g.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(I,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No completed tasks"}),e.jsx("p",{className:"text-sm",children:"Complete a task to see it here!"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:g.map(c=>e.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("button",{onClick:()=>h(c.id),className:"flex-shrink-0 w-5 h-5 bg-green-500 border-2 border-green-500 rounded flex items-center justify-center hover:bg-green-600 transition-colors",disabled:m.isLoading,children:e.jsx(I,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-gray-500 line-through",children:c.task})]}),e.jsx("button",{onClick:()=>j(c.id),className:"flex-shrink-0 p-1 text-gray-400 hover:text-red-500 transition-colors",disabled:p.isLoading,children:e.jsx(Q,{className:"w-4 h-4"})})]},c.id))})})]})]})]})},Ae=()=>{const s=[{id:1,username:"admin",rank:"owner",status:"online",lastSeen:"2 minutes ago"},{id:2,username:"moderator1",rank:"admin",status:"online",lastSeen:"5 minutes ago"},{id:3,username:"staff_member",rank:"moderator",status:"offline",lastSeen:"1 hour ago"},{id:4,username:"helper",rank:"staff",status:"offline",lastSeen:"3 hours ago"}],i=a=>{switch(a){case"owner":return"text-red-600 bg-red-50";case"admin":return"text-orange-600 bg-orange-50";case"moderator":return"text-blue-600 bg-blue-50";case"staff":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},t=a=>a==="online"?e.jsx(J,{className:"w-4 h-4 text-green-500"}):e.jsx(D,{className:"w-4 h-4 text-gray-400"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage staff members and their permissions"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(r,{children:e.jsx(r.Body,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s.length})]}),e.jsx("div",{className:"p-3 rounded-lg text-blue-600 bg-blue-50",children:e.jsx(w,{className:"w-6 h-6"})})]})})}),e.jsx(r,{children:e.jsx(r.Body,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Online"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:s.filter(a=>a.status==="online").length})]}),e.jsx("div",{className:"p-3 rounded-lg text-green-600 bg-green-50",children:e.jsx(J,{className:"w-6 h-6"})})]})})}),e.jsx(r,{children:e.jsx(r.Body,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Offline"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600 mt-1",children:s.filter(a=>a.status==="offline").length})]}),e.jsx("div",{className:"p-3 rounded-lg text-gray-600 bg-gray-50",children:e.jsx(D,{className:"w-6 h-6"})})]})})}),e.jsx(r,{children:e.jsx(r.Body,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600 mt-1",children:s.filter(a=>["owner","admin"].includes(a.rank)).length})]}),e.jsx("div",{className:"p-3 rounded-lg text-orange-600 bg-orange-50",children:e.jsx(F,{className:"w-6 h-6"})})]})})})]}),e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Members"})}),e.jsx(r.Body,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Seen"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:a.username.charAt(0).toUpperCase()})})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.username})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${i(a.rank)}`,children:a.rank})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[t(a.status),e.jsx("span",{className:`ml-2 text-sm ${a.status==="online"?"text-green-600":"text-gray-500"}`,children:a.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.lastSeen}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Remove"})]})]},a.id))})]})})})]})]})},Fe=({vehicle:s})=>{const i=a=>a===1?"Garage":"Out",t=a=>a===1?"text-green-600 bg-green-100":"text-orange-600 bg-orange-100";return e.jsx(r,{className:"hover:shadow-lg transition-shadow",children:e.jsx(r.Body,{className:"p-6",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white",children:e.jsx(C,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:s.model||"Unknown Vehicle"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(pe,{className:"w-3 h-3"}),e.jsx("span",{className:"font-mono",children:s.plate})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[s.owner_name&&s.owner_name.trim()&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(E,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Owner:"}),e.jsx("span",{className:"font-medium text-gray-900",children:s.owner_name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Status"}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t(s.stored)}`,children:[e.jsx(ue,{className:"w-3 h-3 inline mr-1"}),i(s.stored)]})]}),s.color&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Color"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["#",s.color]})]})]})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Owner ID: ",e.jsx("span",{className:"font-mono text-gray-700",children:s.owner})]})})]})]})})})})},Ie=()=>{const[s,i]=f.useState(""),[t,a]=f.useState(""),{data:d,isLoading:l,error:x}=y({queryKey:["fivemVehicles"],queryFn:async()=>(await _.getVehicles()).data,refetchInterval:6e4}),m=(d==null?void 0:d.vehicles)||[],p=m.filter(g=>{const n=!s||g.model&&g.model.toLowerCase().includes(s.toLowerCase())||g.plate.toLowerCase().includes(s.toLowerCase())||g.owner_name&&g.owner_name.toLowerCase().includes(s.toLowerCase()),c=t===""||t==="garage"&&g.stored===1||t==="out"&&g.stored!==1;return n&&c}),o=m.length,h=m.filter(g=>g.stored===1).length,j=o-h;return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(N,{})}):x?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600",children:"Failed to load vehicles data"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:x.message})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(C,{className:"w-6 h-6 mr-2"}),"Vehicle Management"]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[p.length," of ",o," vehicles"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(r,{children:e.jsxs(r.Body,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:o}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Vehicles"})]})}),e.jsx(r,{children:e.jsxs(r.Body,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:h}),e.jsx("div",{className:"text-sm text-gray-600",children:"In Garage"})]})}),e.jsx(r,{children:e.jsxs(r.Body,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:j}),e.jsx("div",{className:"text-sm text-gray-600",children:"Currently Out"})]})})]}),e.jsx(r,{children:e.jsx(r.Body,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search by model, plate, or owner...",value:s,onChange:g=>i(g.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:t,onChange:g=>a(g.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"garage",children:"In Garage"}),e.jsx("option",{value:"out",children:"Currently Out"})]}),e.jsx(G,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:p.map((g,n)=>e.jsx(Fe,{vehicle:g},`${g.plate}-${n}`))}),p.length===0&&(s||t)&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(C,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No vehicles match your search criteria"}),e.jsx(v,{variant:"ghost",onClick:()=>{i(""),a("")},className:"mt-2",children:"Clear Filters"})]})]})},qe=({children:s})=>{var o;const[i,t]=f.useState(!1),{user:a,logout:d}=R(),l=ae(),x=[{name:"Overview",href:"/dashboard",icon:fe,current:l.pathname==="/dashboard"},{name:"Players",href:"/dashboard/players",icon:w,current:l.pathname==="/dashboard/players"},{name:"Vehicles",href:"/dashboard/vehicles",icon:C,current:l.pathname==="/dashboard/vehicles"},{name:"Hall of Fame",href:"/dashboard/hall-of-fame",icon:Y,current:l.pathname==="/dashboard/hall-of-fame"},{name:"Chat",href:"/dashboard/chat",icon:B,current:l.pathname==="/dashboard/chat"},{name:"Todo",href:"/dashboard/todo",icon:X,current:l.pathname==="/dashboard/todo"},{name:"Server Status",href:"/dashboard/server",icon:A,current:l.pathname==="/dashboard/server"},{name:"User Management",href:"/dashboard/users",icon:F,current:l.pathname==="/dashboard/users"},{name:"Settings",href:"/dashboard/settings",icon:ye,current:l.pathname==="/dashboard/settings"}],m=async()=>{try{await d(),u("success","Logged out successfully")}catch{u("error","Error logging out")}},p=h=>h==="admin"||h==="owner"?e.jsx(V,{className:"w-4 h-4 text-yellow-500"}):e.jsx(E,{className:"w-4 h-4 text-gray-500"});return e.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50",children:[i&&e.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:()=>t(!1)}),e.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 flex flex-col
        ${i?"translate-x-0":"-translate-x-full"}
      `,children:[e.jsxs("div",{className:"flex items-center justify-between flex-shrink-0 h-16 px-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-r from-primary-600 to-purple-600",children:e.jsx(A,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"FiveM Dashboard"})]}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 lg:hidden hover:text-gray-700",children:e.jsx(Ne,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"flex-shrink-0 p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:(a==null?void 0:a.avatar_url)||"/img/default_avatar.png",alt:"Avatar",className:"object-cover w-10 h-10 border-2 border-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:a==null?void 0:a.username}),p(a==null?void 0:a.rank)]}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:(a==null?void 0:a.rank)||"User"})]})]})}),e.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:x.map(h=>e.jsxs(te,{to:h.href,onClick:()=>t(!1),className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200
                ${h.current?"bg-primary-50 text-primary-700 border-r-2 border-primary-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}
              `,children:[e.jsx(h.icon,{className:`
                  mr-3 h-5 w-5 transition-colors duration-200
                  ${h.current?"text-primary-600":"text-gray-400 group-hover:text-gray-600"}
                `}),h.name]},h.name))}),e.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-200",children:e.jsxs(v,{onClick:m,variant:"ghost",className:"justify-start w-full text-red-600 hover:bg-red-50 hover:text-red-700",children:[e.jsx(be,{className:"w-5 h-5 mr-3"}),"Logout"]})})]}),e.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center h-16 px-4 bg-white border-b border-gray-200 shadow-sm gap-x-4 sm:gap-x-6 sm:px-6 lg:px-8",children:[e.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>t(!0),children:e.jsx(ve,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex justify-between flex-1",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:((o=x.find(h=>h.current))==null?void 0:o.name)||"Dashboard"})}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"text-sm text-gray-500",children:["Online Users: ",e.jsx("span",{className:"font-medium text-green-600",children:"12"})]})})]})]}),e.jsx("main",{className:"flex-1 p-4 overflow-y-auto sm:p-6 lg:p-8",children:s})]})]})},Ee=()=>e.jsx(qe,{children:e.jsxs(re,{children:[e.jsx(b,{index:!0,element:e.jsx(Le,{})}),e.jsx(b,{path:"players",element:e.jsx(Me,{})}),e.jsx(b,{path:"vehicles",element:e.jsx(Ie,{})}),e.jsx(b,{path:"hall-of-fame",element:e.jsx(_e,{})}),e.jsx(b,{path:"chat",element:e.jsx(we,{})}),e.jsx(b,{path:"todo",element:e.jsx(Ue,{})}),e.jsx(b,{path:"server",element:e.jsx($e,{})}),e.jsx(b,{path:"users",element:e.jsx(Ae,{})}),e.jsx(b,{path:"settings",element:e.jsx(Be,{})})]})});export{Ee as default};
